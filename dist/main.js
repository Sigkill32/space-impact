(()=>{"use strict";function e(e,t,n){return function(i,o){e.beginPath(),e.rect(i,o,t,n),e.fillStyle="black",e.fill(),e.closePath()}}const t=function(t,n){const i=e(t,15,15),o=e(t,20,10);i(n.myShip.x,n.myShip.y),o(n.enemyShip.x,n.enemyShip.y),n.bullet.x,n.bullet.y},n=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),i=document.getElementById("gameCanvas"),o=window.innerHeight,s=window.innerWidth;i.setAttribute("width",s-50),i.setAttribute("height",Math.floor(.8*o));const h=i.getContext("2d"),c=i.width,u=i.height,l=(new class{events={};subscribe=(e,t)=>{this.events[e]?this.events[e].push(t):this.events[e]=[t]};publish=(e,t)=>{this.events[e]&&this.events[e].forEach((e=>{e.call(this,t)}))}},{myShip:{x:Math.floor(c/2),y:u-30},enemyShip:{x:c+5,y:0},bullet:{x:c/2,y:u-15}});function r(e){let{clientX:i}=e;n&&(i=e.changedTouches[0].clientX),l.myShip.x=i-25,h.clearRect(0,0,c,u),t(h,l)}function a(e){let{type:o,clientX:s}=e;n&&(s=e.changedTouches[0].clientX),"mousedown"!==o&&"touchstart"!==o||(l.myShip.x=s-25,h.clearRect(0,0,c,u),t(h,l),i.addEventListener(n?"touchmove":"mousemove",r)),"mouseup"!==o&&"touchend"!==o||i.removeEventListener(n?"touchmove":"mousemove",r)}t(h,l),i.addEventListener(n?"touchstart":"mousedown",a),i.addEventListener(n?"touchend":"mouseup",a)})();